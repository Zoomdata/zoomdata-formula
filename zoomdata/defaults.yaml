# -*- coding: utf-8 -*-

zoomdata:
  base_url: 'http://repo.zoomdata.com'
  release: '2.3'
  version: 'latest'

  user: zoomdata
  group: zoomdata

  packages:
    - zoomdata
    - zoomdata-scheduler
    - zoomdata-spark-proxy
    #- zoomdata-xvfb

  edc:
    version: 'latest'
    packages:
      - zoomdata-edc-elasticsearch-1.7
      - zoomdata-edc-rts

  limits:
    nproc:
      soft: 4096
      hard: 4096
    nofile:
      soft: 1048576
      hard: 1048576

  config:
    zoomdata:
      path: /etc/zoomdata/zoomdata.properties
      properties:
        spring.datasource.url: 'jdbc:postgresql://localhost:5432/zoomdata'
        spring.datasource.username: zoomdata
        spring.datasource.password: 'Z00mda1a'
        screenshot.daemon.enabled: False
        screenshot.daemon.schedule.rate: '168h'
        screenshots.dashboards.enabled: False
        screenshots.datasource-charts.enabled: False
    zoomdata-scheduler:
      path: /etc/zoomdata/scheduler.properties
      properties:
        spring.datasource.url: 'jdbc:postgresql://localhost:5432/zoomdata-scheduler'
        spring.datasource.username: zoomdata
        spring.datasource.password: 'Z00mda1a'
    zoomdata-spark-proxy:
      path: /etc/zoomdata/spark-proxy.properties
      properties:
        hadoop.distro: cdh5

  services:
    - zoomdata
    - zoomdata-edc-elasticsearch-1.7
    - zoomdata-edc-rts
    - zoomdata-scheduler
    - zoomdata-spark-proxy
    #- zoomdata-xvfb
